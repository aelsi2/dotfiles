# ==== Monitors ====
monitor=eDP-1,1920x1080@240,0x0,1
#monitor=,preferred,auto,1,mirror,eDP-1

# ==== Auto start programs ====
exec-once=swayidle -w
exec-once=hyprpaper 
exec-once=waybar
exec-once=mako
exec-once=wl-paste --watch cliphist store

# ==== Environment variables ====
env=TERMINAL,alacritty -e
env=XDG_CURRENT_DESKTOP,Hyprland
env=XDG_SESSION_DESKTOP,Hyprland
env=XDG_SESSION_TYPE,wayland

env=QT_QPA_PLATFORM,wayland;xcb
env=QT_QPA_PLATFORMTHEME,qt5ct

env=GDK_BACKEND,wayland,x11

env=WLR_DRM_DEVICES,/dev/dri/card0:/dev/dri/card1
env=XCURSOR_SIZE,24

# ==== Settings ====
input {
    kb_layout=us,ru
    kb_options=grp:alt_shift_toggle,compose:ralt 
    numlock_by_default=yes

    follow_mouse=1

    touchpad {
        scroll_factor=0.2
        natural_scroll=yes
    }
    sensitivity=0 # -1.0 - 1.0, 0 means no modification.
}

general {
    gaps_in=5
    gaps_out=10
    border_size=2
    col.active_border=rgba(88c0d0aa)
    col.inactive_border=rgba(4c566aaa)

    layout=dwindle
}

decoration {
    rounding=2
    shadow {
        enabled=no
        range=4
        render_power=3
        color=rgba(1a1a1aee)
    }
}

animations {
    enabled=yes

    bezier=myBezier, 0.05, 0.9, 0.1, 1.05

    animation=windows,1,7,myBezier
    animation=windowsOut,1,7,default,popin 80%
    animation=border,1,10,default
    animation=borderangle,1,8,default
    animation=fade,1,7,default
    animation=workspaces,1,6,default
}

dwindle {
    preserve_split=yes
}

master {
    new_status=slave
}

gestures {
    workspace_swipe=true
}

device {
    name=razer-razer-viper-mini
    sensitivity=-0.25
    accel_profile=flat
}

device {
    name=razer-razer-viper
    sensitivity=-0.25
    accel_profile=flat
}


device {
    name=razer-razer-viper-mini-1
    sensitivity=-0.25
    accel_profile=flat
}

# ==== Window rules ====
windowrule=tag jetbrains-popup,class:jetbrains-[a-zA-Z]*,title:(^\s*$),floating:1
windowrule=tag jetbrains-popup,class:jetbrains-[a-zA-Z]*,title:(win[0-9]+),floating:1
windowrule=noinitialfocus,tag:jetbrains-popup
windowrule=nofollowmouse,tag:jetbrains-popup
windowrule=noanim,tag:jetbrains-popup

windowrule=float,class:xdg-desktop-portal-[a-zA-Z]+
windowrule=animation slide,floating:1


# ==== Binds ====
$mainMod=SUPER

# Basic window management
bind=$mainMod,C,killactive, 
bind=$mainMod,P,togglefloating,
bind=$mainMod,F,fullscreen,1
bind=$mainMod SHIFT,F,fullscreen,0

# Application hotkeys
bind=$mainMod,Q,exec,alacritty
bind=$mainMod,E,exec,alacritty -e ranger
bind=$mainMod,R,exec,runner
bind=$mainMod,M,exec,power_menu
bind=,Print,exec,grimblast copy output
bind=CTRL,Print,exec,grimblast copy area
bind=$mainMod,V,exec,clipboard_menu

# Volume
bind=,XF86AudioMute,exec,hotkey_volume mute
binde=,XF86AudioLowerVolume,exec,hotkey_volume down
binde=,XF86AudioRaiseVolume,exec,hotkey_volume up

# Brightness
bind=$mainMod,F6,exec,hotkey_brightness off
binde=$mainMod,F3,exec,hotkey_brightness down
binde=$mainMod,F4,exec,hotkey_brightness up

bind=,XF86DisplayToggle,exec,hotkey_brightness off
binde=,XF86MonBrightnessDown,exec,hotkey_brightness down
binde=,XF86MonBrightnessUp,exec,hotkey_brightness up

# Switch windows
bind=$mainMod,left,movefocus,l
bind=$mainMod,right,movefocus,r
bind=$mainMod,up,movefocus,u
bind=$mainMod,down,movefocus,d

bind=$mainMod,h,movefocus,l
bind=$mainMod,l,movefocus,r
bind=$mainMod,k,movefocus,u
bind=$mainMod,j,movefocus,d

# Switch workspaces
bind=$mainMod,1,workspace,1
bind=$mainMod,2,workspace,2
bind=$mainMod,3,workspace,3
bind=$mainMod,4,workspace,4
bind=$mainMod,5,workspace,5
bind=$mainMod,6,workspace,6
bind=$mainMod,7,workspace,7
bind=$mainMod,8,workspace,8
bind=$mainMod,9,workspace,9
bind=$mainMod,0,workspace,10

# Move windows between workspaces
bind=$mainMod SHIFT,1,movetoworkspace,1
bind=$mainMod SHIFT,2,movetoworkspace,2
bind=$mainMod SHIFT,3,movetoworkspace,3
bind=$mainMod SHIFT,4,movetoworkspace,4
bind=$mainMod SHIFT,5,movetoworkspace,5
bind=$mainMod SHIFT,6,movetoworkspace,6
bind=$mainMod SHIFT,7,movetoworkspace,7
bind=$mainMod SHIFT,8,movetoworkspace,8
bind=$mainMod SHIFT,9,movetoworkspace,9
bind=$mainMod SHIFT,0,movetoworkspace,10

# Move/resize floating windows
bindm=$mainMod, mouse:272, movewindow
bindm=$mainMod, mouse:273, resizewindow
bindm=$mainMod SHIFT, mouse:272, resizewindow
